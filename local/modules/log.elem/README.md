# Пример кастомного модуля 1C:Битрикс d7 

Задача модуля вести лог в своей таблице БД событий добавления/изменения/удаления элемента инфоблока.

1.	После размещения модуля в папку «/local/modules/», он есть в списке доступных решений.

2.	Во время установки, модуль сам создает таблицу, в которой будут хранится записи логов. 
Таблица будет иметь следующую структуру:
ID	EVENT	IBLOCK_ID	ELEMENT_ID	NAME	DATE_AND_TIME_RECORD	DATE_RECORD	USER_ID

где:
ID – идентификатор записи в таблице (автогенерация при добавлении), тип поля: целое число;
EVENT – наименование события (допустимые значения ADD, UPDATE, DELETE) при котором было добавлена запись, тип поля: строка;
IBLOCK_ID – код информационного блока, тип поля: целое число;
NAME – название элемента инфоблока, тип поля: строка;
DATE_AND_TIME_RECORD – дата и время события, тип поля: дата и время;
DATE_RECORD – дата события, тип поля: дата;
USER_ID – идентификатор пользователя который внес изменения или инициировал добавление/удаление элемента инфоблока, тип поля: целое число.

3.	Во время установки, модуль сам регистрируется на события добавления/изменения/удаления элемента инфоблока и обращается к своим методам/функциям, которые добавляют записи в таблицу лога.

4.	Модуль имеет свои настройки (в админ зоне) - множественный выбор инфоблоков для отслеживания событий. т.е. для каких инфоблоков вести лог.

5.	При добавлении/изменении/удалении элемента инфоблока создаются записи в таблице логов в зависимости от выбранных инфоблоков в настройках модуля.

6.	При удалении модуля есть возможность выбора удаления таблицы с логами в БД. Так же при удалении модуля происходит удаление подписки на события добавления/изменения/удаления элемента инфоблока.
